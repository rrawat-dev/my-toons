{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/rakrawat/workspace/my-toons/pages/index.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Fragment } from 'react';\nimport Card from '../components/card';\nimport Filters from '../components/filters';\nimport { getStore } from '../redux/store';\nimport withRedux from \"next-redux-wrapper\";\nimport { getCharacters } from '../services/character'; // components\n\nimport CharacterList from '../components/CharacterList/CharacterList';\nimport Pagination from '../components/Pagination/Pagination';\nimport CharacterFilters from '../components/CharacterFilters/CharacterFilters';\nimport CharacterFiltersApplied from '../components/CharacterFiltersApplied/CharacterFiltersApplied';\n\nvar Home = /*#__PURE__*/function (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  var _super = _createSuper(Home);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      page: 1,\n      filters: []\n    };\n    _this.fetchCharacters = _this.fetchCharacters.bind(_assertThisInitialized(_this));\n    _this.paginateCharacters = _this.paginateCharacters.bind(_assertThisInitialized(_this));\n    _this.filterCharacters = _this.filterCharacters.bind(_assertThisInitialized(_this));\n    _this.searchCharacters = _this.searchCharacters.bind(_assertThisInitialized(_this));\n    _this.sortCharacters = _this.sortCharacters.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"fetchCharacters\",\n    value: function fetchCharacters(options) {\n      return getCharacters({\n        search: this.state.searchText || '',\n        filters: this.state.filters || [],\n        sort: sort\n      }).then(function (res) {\n        return {\n          characters: res.data.results,\n          pagination: res.data.info\n        };\n      })[\"catch\"](function (err) {\n        return {\n          characters: [],\n          pagination: null\n        };\n      });\n    }\n  }, {\n    key: \"paginateCharacters\",\n    value: function paginateCharacters(url) {\n      this.setState({\n        filters: filters\n      }, function () {\n        return fetchCharacters();\n      });\n    }\n  }, {\n    key: \"filterCharacters\",\n    value: function filterCharacters(filters) {\n      this.setState({\n        filters: filters,\n        page: 1\n      }, function () {\n        return fetchCharacters();\n      });\n    }\n  }, {\n    key: \"searchCharacters\",\n    value: function searchCharacters(search) {}\n  }, {\n    key: \"sortCharacters\",\n    value: function sortCharacters() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"float-left width-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }, __jsx(CharacterFilters, {\n        characters: this.props.characters,\n        onFilterChange: this.filterCharacters,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }\n      })), __jsx(\"div\", {\n        className: \"float-right width-85\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }, __jsx(CharacterFiltersApplied, {\n        filters: this.state.appliedFilters,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }\n      }), __jsx(CharacterList, {\n        characters: this.props.characters,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      }), __jsx(Pagination, {\n        pagination: this.props.pagination,\n        onPaginate: this.paginate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(context) {\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", getCharacters().then(function (res) {\n                return {\n                  characters: res.data.results,\n                  pagination: res.data.info\n                };\n              })[\"catch\"](function (err) {\n                return {\n                  characters: [],\n                  pagination: null\n                };\n              }));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/rakrawat/workspace/my-toons/pages/index.js"],"names":["React","Fragment","Card","Filters","getStore","withRedux","getCharacters","CharacterList","Pagination","CharacterFilters","CharacterFiltersApplied","Home","props","state","page","filters","fetchCharacters","bind","paginateCharacters","filterCharacters","searchCharacters","sortCharacters","options","search","searchText","sort","then","res","characters","data","results","pagination","info","err","url","setState","appliedFilters","paginate","context","Component"],"mappings":"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","sourcesContent":["import React, {Fragment} from 'react';\nimport Card from '../components/card';\nimport Filters from '../components/filters';\nimport { getStore } from '../redux/store';\nimport withRedux from \"next-redux-wrapper\";\nimport {getCharacters} from '../services/character';\n\n// components\nimport CharacterList from '../components/CharacterList/CharacterList';\nimport Pagination from '../components/Pagination/Pagination';\nimport CharacterFilters from '../components/CharacterFilters/CharacterFilters';\nimport CharacterFiltersApplied from '../components/CharacterFiltersApplied/CharacterFiltersApplied';\n\nclass Home extends React.Component {\n\n    constructor (props) {\n        super (props);\n        this.state = {\n            page: 1,\n            filters: []\n        };\n\n        this.fetchCharacters = this.fetchCharacters.bind(this);\n        this.paginateCharacters = this.paginateCharacters.bind(this);\n        this.filterCharacters = this.filterCharacters.bind(this);\n        this.searchCharacters = this.searchCharacters.bind(this);\n        this.sortCharacters = this.sortCharacters.bind(this);\n    }\n\n    static async getInitialProps (context) {\n        return getCharacters().then(res => {\n            return {\n                characters: res.data.results,\n                pagination: res.data.info\n            };\n        }).catch(err => {\n            return {\n                characters: [],\n                pagination: null\n            };\n        });\n    }\n\n    fetchCharacters(options) {\n        return getCharacters({\n            search: this.state.searchText || '',\n            filters: this.state.filters || [],\n            sort\n        }).then(res => {\n            return {\n                characters: res.data.results,\n                pagination: res.data.info\n            };\n        }).catch(err => {\n            return {\n                characters: [],\n                pagination: null\n            };\n        });\n    }\n\n    paginateCharacters(url) {\n        this.setState({\n            filters\n        }, () => fetchCharacters());\n    }\n\n    filterCharacters(filters) {\n        this.setState({\n            filters,\n            page: 1\n        }, () => fetchCharacters());\n    }\n\n    searchCharacters(search) {\n\n    }\n\n    sortCharacters() {\n\n    }\n\n    render () {\n        return (\n            <div>\n                <div className=\"float-left width-12\">\n                    <CharacterFilters characters={this.props.characters} onFilterChange={this.filterCharacters} />\n                </div>\n                <div className=\"float-right width-85\">\n                    <CharacterFiltersApplied filters={this.state.appliedFilters} />\n                    <CharacterList characters={this.props.characters} />\n                    <Pagination pagination={this.props.pagination} onPaginate={this.paginate} />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}